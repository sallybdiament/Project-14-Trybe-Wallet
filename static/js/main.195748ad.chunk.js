(this["webpackJsonpsd-0x-project-trybewallet"]=this["webpackJsonpsd-0x-project-trybewallet"]||[]).push([[0],{47:function(e,t,a){},48:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(19),i=a.n(c),l=a(20),o=a(12),u=a(13),s=a(31),d=a(32),p=a(4),m=a(14),h=a(18),E="ADD_USER",b="GET_CURRENCY",v="ADD_EXPENSE",f="DELETE_CUSTOMER",y="ACTIVATE_EDIT",j="EDIT_EXPENSE",g=function(){var e=Object(h.a)(Object(m.a)().mark((function e(){var t,a,n,r;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://economia.awesomeapi.com.br/json/all");case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,n=Object.keys(a),r=n.filter((function(e){return"USDT"!==e})),e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O={email:""};var D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;return t.type===E?Object(p.a)(Object(p.a)({},e),{},{email:t.email}):e},C=a(33),x={currencies:[],expenses:[],editor:!1,idToEdit:0};var w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(p.a)(Object(p.a)({},e),{},{currencies:t.payload});case v:return Object(p.a)(Object(p.a)({},e),{},{expenses:[].concat(Object(C.a)(e.expenses),[t.payload])});case f:return Object(p.a)(Object(p.a)({},e),{},{expenses:e.expenses.filter((function(e){return Number(e.id)!==Number(t.payload)}))});case y:return Object(p.a)(Object(p.a)({},e),{},{editor:!0,idToEdit:t.payload});case j:return Object(p.a)(Object(p.a)({},e),{},{expenses:t.payload});default:return e}},I=Object(u.combineReducers)({user:D,wallet:w}),k=Object(u.createStore)(I,Object(s.composeWithDevTools)(Object(u.applyMiddleware)(d.a)));window.Cypress&&(window.store=k);var S=k,T=a(7),N=a(8),R=a(9),F=a(10),A=a(2),M=a(16),B=function(e){Object(R.a)(a,e);var t=Object(F.a)(a);function a(){var e;Object(T.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={isEntryButtonDisabled:!0,password:"",inputEmail:"",redirect:!1},e.validateEmail=function(e){return/\S+@\S+\.\S+/.test(e)},e.validate=function(){var t=e.state,a=t.password,n=t.inputEmail;a.length>5&&e.validateEmail(n)?e.setState({isEntryButtonDisabled:!1}):e.setState({isEntryButtonDisabled:!0})},e.onInputChange=function(t){var a=t.target;e.setState(Object(M.a)({},a.name,a.value),(function(){return e.validate()}))},e.handleClick=function(){(0,e.props.addDispatch)(e.state.inputEmail),e.setState({redirect:!0})},e}return Object(N.a)(a,[{key:"render",value:function(){var e=this.state,t=e.isEntryButtonDisabled,a=e.inputEmail,n=e.password,c=e.redirect;return r.a.createElement("div",{className:"login"},r.a.createElement("label",{htmlFor:"inputEmail"},"Insira seu e-mail:",r.a.createElement("input",{type:"email","data-testid":"email-input",name:"inputEmail",id:"inputEmail",value:a,onChange:this.onInputChange})),r.a.createElement("label",{htmlFor:"password"},"Senha:",r.a.createElement("input",{type:"password","data-testid":"password-input",name:"password",id:"password",value:n,onChange:this.onInputChange})),r.a.createElement("button",{type:"submit","data-testid":"login-submit-button",disabled:t,onClick:this.handleClick},"Entrar"),c&&r.a.createElement(A.a,{from:"/",to:"/carteira"}))}}]),a}(r.a.Component),U=Object(o.b)(null,(function(e){return{addDispatch:function(t){return e({type:E,email:t})}}}))(B),_=function(e){Object(R.a)(a,e);var t=Object(F.a)(a);function a(){return Object(T.a)(this,a),t.apply(this,arguments)}return Object(N.a)(a,[{key:"render",value:function(){var e=this.props,t=e.email,a=e.expenses;return r.a.createElement("div",null,r.a.createElement("p",{"data-testid":"email-field"},"Email logado:",t),r.a.createElement("p",{"data-testid":"total-field"},a.reduce((function(e,t){return e+Number(t.value)*Number(t.exchangeRates[t.currency].ask)}),0).toFixed(2)),r.a.createElement("p",{"data-testid":"header-currency-field"},"C\xe2mbio: BRL"))}}]),a}(r.a.Component),V=Object(o.b)((function(e){return{email:e.user.email,expenses:e.wallet.expenses}}))(_),L=function(e){Object(R.a)(a,e);var t=Object(F.a)(a);function a(){var e;Object(T.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).handleClick=function(t){var a=t.target.id;(0,e.props.deleteCustomerDispatch)(a)},e.handleEditClick=function(t){var a=t.target.id;(0,e.props.activateEditDispatch)(a)},e}return Object(N.a)(a,[{key:"render",value:function(){var e=this,t=this.props.expenses;return r.a.createElement("div",null,r.a.createElement("table",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Descri\xe7\xe3o"),r.a.createElement("th",null,"Tag"),r.a.createElement("th",null,"M\xe9todo de pagamento"),r.a.createElement("th",null,"Valor"),r.a.createElement("th",null,"Moeda"),r.a.createElement("th",null,"C\xe2mbio utilizado"),r.a.createElement("th",null,"Valor convertido"),r.a.createElement("th",null,"Moeda de convers\xe3o"),r.a.createElement("th",null,"Editar/Excluir")),r.a.createElement("tbody",null,t.map((function(t){return r.a.createElement("tr",{key:t.description},r.a.createElement("td",null,t.description),r.a.createElement("td",null,t.tag),r.a.createElement("td",null,t.method),r.a.createElement("td",null,Number(t.value).toFixed(2)),r.a.createElement("td",null,t.exchangeRates[t.currency].name),r.a.createElement("td",null,Number(t.exchangeRates[t.currency].ask).toFixed(2)),r.a.createElement("td",null,(Number(t.exchangeRates[t.currency].ask)*Number(t.value)).toFixed(2)),r.a.createElement("td",null,"Real"),r.a.createElement("td",null,r.a.createElement("button",{key:t.id,id:t.id,"data-testid":"edit-btn",type:"submit",onClick:e.handleEditClick},"Editar despesa"),r.a.createElement("button",{"data-testid":"delete-btn",key:t.id,type:"submit",onClick:e.handleClick,id:t.id},"Excluir")))})))))}}]),a}(n.Component),W=Object(o.b)((function(e){return{expenses:e.wallet.expenses}}),(function(e){return{deleteCustomerDispatch:function(t){return e({type:f,payload:t})},activateEditDispatch:function(t){return e({type:y,payload:t})}}}))(L),z="Alimenta\xe7\xe3o",J=function(e){Object(R.a)(a,e);var t=Object(F.a)(a);function a(){var e;Object(T.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={id:-1,valorDespesa:"",descrDespesa:"",currencyInput:"USD",metodoInput:"Dinheiro",categoriaInput:z},e.handleChange=function(t){var a=t.target;e.setState(Object(M.a)({},a.name,a.value))},e.handleSubmit=Object(h.a)(Object(m.a)().mark((function t(){var a,n,r,c,i,l,o,u,s,d;return Object(m.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props.addExpenseDispatch,n=e.state,r=n.valorDespesa,c=n.descrDespesa,i=n.currencyInput,l=n.metodoInput,o=n.categoriaInput,u=n.id,t.next=4,fetch("https://economia.awesomeapi.com.br/json/all");case 4:return s=t.sent,t.next=7,s.json();case 7:d=t.sent,a({id:u+1,value:r,description:c,currency:i,method:l,tag:o,exchangeRates:d}),e.setState({id:u+1,valorDespesa:"",descrDespesa:"",currencyInput:"USD",metodoInput:"Dinheiro",categoriaInput:z});case 11:case"end":return t.stop()}}),t)}))),e.handleEditSubmit=function(){var t=e.props,a=t.editExpenseDispatch,n=t.idToEdit,r=t.expenses,c=e.state,i=c.valorDespesa,l=c.descrDespesa,o=c.currencyInput,u=c.metodoInput,s=c.categoriaInput,d=c.id,p={id:Number(n),value:i,description:l,currency:o,method:u,tag:s,exchangeRates:r[n].exchangeRates},m=r.filter((function(e){return e.id!==Number(n)})).concat(p);a(m.sort((function(e,t){return e.id<t.id?-1:e.id>t.id?1:0}))),e.setState({id:d+1,valorDespesa:"",descrDespesa:"",currencyInput:"USD",metodoInput:"Dinheiro",categoriaInput:z})},e}return Object(N.a)(a,[{key:"componentDidMount",value:function(){(0,this.props.addCurrenciesDispatch)()}},{key:"render",value:function(){var e=this.props,t=e.currencies,a=e.editor,n=this.state,c=n.valorDespesa,i=n.descrDespesa,l=n.currencyInput,o=n.metodoInput,u=n.categoriaInput;return r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"valorDespesa"},"Valor:",r.a.createElement("input",{type:"text","data-testid":"value-input",name:"valorDespesa",id:"valorDespesa",value:c,onChange:this.handleChange})),r.a.createElement("label",{htmlFor:"descrDespesa"},"Descri\xe7\xe3o:",r.a.createElement("input",{type:"text","data-testid":"description-input",name:"descrDespesa",id:"descrDespesa",value:i,onChange:this.handleChange})),r.a.createElement("label",{htmlFor:"currencyInput"},"Moeda:",r.a.createElement("select",{"data-testid":"currency-input",name:"currencyInput",id:"currencyInput",value:l,onChange:this.handleChange},t.map((function(e){return r.a.createElement("option",{key:e},e)})))),r.a.createElement("label",{htmlFor:"metodoInput"},"M\xe9todo de pagamento:",r.a.createElement("select",{"data-testid":"method-input",name:"metodoInput",id:"metodoInput",value:o,onChange:this.handleChange},r.a.createElement("option",null,"Dinheiro"),r.a.createElement("option",null,"Cart\xe3o de cr\xe9dito"),r.a.createElement("option",null,"Cart\xe3o de d\xe9bito"))),r.a.createElement("label",{htmlFor:"categoriaInput"},"Categoria da despesa:",r.a.createElement("select",{"data-testid":"tag-input",name:"categoriaInput",id:"categoriaInput",value:u,onChange:this.handleChange},r.a.createElement("option",null,z),r.a.createElement("option",null,"Lazer"),r.a.createElement("option",null,"Trabalho"),r.a.createElement("option",null,"Transporte"),r.a.createElement("option",null,"Sa\xfade"))),a?r.a.createElement("button",{type:"submit",onClick:this.handleEditSubmit},"Editar despesa"):r.a.createElement("button",{type:"submit",onClick:this.handleSubmit},"Adicionar despesa"),r.a.createElement(W,null))}}]),a}(n.Component),P=Object(o.b)((function(e){return{currencies:e.wallet.currencies,editor:e.wallet.editor,idToEdit:e.wallet.idToEdit,expenses:e.wallet.expenses}}),(function(e){return{addCurrenciesDispatch:function(){return e(function(){var e=Object(h.a)(Object(m.a)().mark((function e(t){var a;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g();case 2:a=e.sent,t({type:b,payload:a});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},addExpenseDispatch:function(t){return e({type:v,payload:t})},editExpenseDispatch:function(t){return e({type:j,payload:t})}}}))(J),X=function(e){Object(R.a)(a,e);var t=Object(F.a)(a);function a(){return Object(T.a)(this,a),t.apply(this,arguments)}return Object(N.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"header"},r.a.createElement(V,null)),r.a.createElement(P,null))}}]),a}(r.a.Component),G=X,Y=function(e){Object(R.a)(a,e);var t=Object(F.a)(a);function a(){return Object(T.a)(this,a),t.apply(this,arguments)}return Object(N.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(A.d,null,r.a.createElement(A.b,{exact:!0,path:"/",component:U}),r.a.createElement(A.b,{exact:!0,path:"/carteira",component:G})))}}]),a}(r.a.Component),$=Y;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(47);i.a.render(r.a.createElement(l.a,null,r.a.createElement(o.a,{store:S},r.a.createElement($,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[48,1,2]]]);
//# sourceMappingURL=main.195748ad.chunk.js.map